{# This Page Shows the Posts Grouped by Year: example.com/posts/ #}

{% extends "base.html" %}

{%- block seo %}
  {{- super() }}
  {%- set title = "Posts" %}

  {%- if config.title %}
    {%- set title_addition = title_separator ~ config.title %}
  {%- else %}
    {%- set title_addition = "" %}
  {%- endif %}

  {%- set description = config.description %}

  {{- macros_head::seo(title=title, title_addition=title_addition, description=description, is_home=true) }}
{%- endblock seo %}

{%- block content %}
<header class="uk-section uk-text-center">
	<div class="uk-container uk-container-large">
		<h1 class="uk-heading-xlarge uk-text-bold uk-text-uppercase">
			{{ section.title }}
		</h1>
		{% if section.description %}
		<p class="uk-width-large uk-margin-auto">
			{{ section.description }}
		</p>
		{% endif %}
	</div>
</header>


<!-- Articles -->
{%- set articles = get_section(path="posts/articles/_index.md") %}
{% if articles.pages %}
<section class="uk-section">
	<div class="uk-container uk-container-large">

		<h2 class="uk-h1">Articles</h2>

		<div class="uk-child-width-1-1 uk-grid-column-medium uk-grid-match uk-grid uk-grid-stack" uk-grid>

		{% for article in articles.pages %}
			{% if loop.index < 5 %}

			<div>
				{% if loop.index > 1 %}<hr class="uk-margin-medium" />{% endif %}
				<article class="uk-panel uk-margin-remove-first-child">
					<div class="uk-child-width-expand uk-grid-column-large uk-grid-row-small uk-grid" uk-grid="">
						<div class="uk-width-1-3@s uk-flex-last@s">
							<a href="{{ article.permalink }}" aria-label="{{ article.title }}">
								<!-- <picture>
									<source type="image/webp" srcset="/wordpress/wp-content/themes/yootheme/cache/91/news-post-hometown-season-3-shooting-has-begun-intro-91cac910.webp 610w, /wordpress/wp-content/themes/yootheme/cache/ec/news-post-hometown-season-3-shooting-has-begun-intro-ec789ca8.webp 768w, /wordpress/wp-content/themes/yootheme/cache/cb/news-post-hometown-season-3-shooting-has-begun-intro-cbb6c6ee.webp 1024w, /wordpress/wp-content/themes/yootheme/cache/c7/news-post-hometown-season-3-shooting-has-begun-intro-c7833452.webp 1220w" sizes="(min-width: 610px) 610px">
									<img src="/wordpress/wp-content/themes/yootheme/cache/54/news-post-hometown-season-3-shooting-has-begun-intro-545731b7.jpeg" alt="" loading="lazy" width="610" height="365">
								</picture> -->
							</a>
						</div>
						<div class="uk-margin-remove-first-child">
							<div class="uk-child-width-expand uk-grid-column-large uk-grid-row-small uk-grid" uk-grid>
								<div class="uk-width-1-2@m uk-margin-remove-first-child">
									<h3 class="uk-margin-top uk-margin-remove-bottom">
										<a href="{{ article.permalink }}" class="uk-link-reset">{{ article.title }}</a>
									</h3>
									<div class="uk-margin-small-top">
										<time datetime="{{ article.date }}" class="uk-text-meta">{{ article.date | date(format="%d %b %Y") }}</time>
									</div>
								</div>
								<div class="uk-margin-remove-first-child">
									<div class="uk-panel uk-margin-top">Lorem ipsum dolor sit amet, consectetur adipisici elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua. Ut enim ad minim veniam. Quis nostrud exercitation ullamco laboris nisi ut aliquid ex ea commodi consequat officia deserunt.</div>
								</div>
							</div>
						</div>
					</div>
				</article>
			</div>

			{% endif %}
		{% endfor %}

		</div>

	</div>
</section>
{% endif %}


<!-- Bookmarks -->
{%- set bookmarks = get_section(path="posts/bookmarks/_index.md") %}
{% if bookmarks.pages %}
<section class="uk-section">
	<div class="uk-container uk-container-large">

		<h2 class="uk-h1">Bookmarks</h2>

		<div class="uk-grid uk-child-width-1-2@m" uk-grid>

		{% for bookmark in bookmarks.pages %}
			{% if loop.index < 5 %}

			<div>

				<article class="uk-card uk-card-default uk-card-hover">
					<a href="{{ bookmark.extra.bookmarkOf }}" class="uk-card-body uk-link-reset">
						<div class="uk-grid uk-flex-middle">
							<div class="uk-width-expand">
								<h3 class="uk-card-title uk-margin-xsmall">{{ bookmark.title }}</h3>
								<p class="uk-text-meta uk-margin-xsmall">
									{{ bookmark.extra.bookmarkOf }}
								</p>
							</div>
							<div class="uk-width-auto">
								<span
									class="uk-icon-button"
									uk-icon="link"
									style="
										--icon-button-background: hsl( var(--global-background));
										--icon-button-hover-background: hsl( var(--global-background));
									"
								>
								</span>
							</div>
						</div>
						{# bookmark.content | safe #}
					</a>
				</article>

				<!-- <p class="uk-text-meta">
					{{ bookmark.date | date(format="%d %b %Y") }}
				</p> -->

			</div>

			{% endif %}
		{% endfor %}

		</div>

	</div>
</section>
{% endif %}


<!-- Jams -->
{%- set jams = get_section(path="posts/jams/_index.md") %}
{% if jams.pages %}
<section class="uk-section uk-section-secondary">
	<div class="uk-container uk-container-large">

		<h2 class="uk-h1">Jams</h2>

		<div class="uk-grid" uk-grid>

			<div class="uk-width-1-3@m uk-flex-last@m">
                <ul class="uk-tab-right" uk-tab="connect: #component-tab-right; animation: uk-animation-fade">
				{% for jam in jams.pages %}
					{% if loop.index < 5 %}
                    <li><a href="#">{{ jam.title }}</a></li>
					{% endif %}
				{% endfor %}
                </ul>
            </div>

			<div class="uk-width-expand@m">
                <ul id="component-tab-right" class="uk-switcher">
				{% for jam in jams.pages %}
					{% if loop.index < 5 %}
                    <li>
						{{ jam.title }}
					</li>
					{% endif %}
				{% endfor %}
                </ul>
            </div>

		</div>

	</div>
</section>
{% endif %}


<!-- Notes -->
{%- set notes = get_section(path="posts/notes/_index.md") %}
{% if notes.pages %}
<section class="uk-section">
	<div class="uk-container uk-container-large">

		<h2 class="uk-h1">Notes</h2>

		<div class="uk-grid uk-child-width-1-2@s uk-child-width-1-4@l" uk-grid>

		{% for note in notes.pages %}
			{% if loop.index < 5 %}

			<div>
				<article class="uk-card uk-card-body uk-card-default">

					<p class="uk-text-meta">
						{{ note.date | date(format="%d %b %Y at %H:%M") }}
					</p>

					{{ note.content | safe }}

				</article>
			</div>

			{% endif %}
		{% endfor %}

		</div>

	</div>
</section>
{% endif %}


{#
{% for subsection in section.subsections | sort %}
<section class="uk-section">
	<div class="uk-container">
		{% set subsection_item = get_section(path=subsection) %}
		<h2>{{ subsection_item.title  }}</h2>

		{% for post in subsection_item.pages %}
		<article class="uk-article">
			<h3 class="uk-article-title"><a href="{{ post.path }}">{{ post.title }}</a></h3>
			<p class="uk-article-meta">{{ post.date }}</p>
		</article>
		{% endfor %}
	</div>
</section>
{% endfor %}
#}

{%- endblock content %}
